<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IdentifyPro - Premium Attendance System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --danger: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --dark: #0a0e27;
            --darker: #070b1f;
            --light: #1a1f3a;
            --lighter: #2a2f4a;
            --white: #ffffff;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            --glow: 0 0 30px rgba(102, 126, 234, 0.3);
        }

      body {
    font-family: 'Inter', sans-serif;
    background: var(--dark) url('12.jpg') no-repeat center center fixed;
    background-size: cover; /* makes the image cover the entire screen */
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(102, 126, 234, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(118, 75, 162, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(240, 147, 251, 0.2) 0%, transparent 50%);
            animation: backgroundMove 20s ease-in-out infinite;
            z-index: -2;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            opacity: 0.8;
            z-index: -1;
        }

        @keyframes backgroundMove {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-5%, -10%) rotate(1deg); }
            66% { transform: translate(5%, 10%) rotate(-1deg); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Premium Glass Card */
        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Authentication Section */
        .auth-section {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .auth-container {
            max-width: 450px;
            width: 100%;
            padding: 50px;
            text-align: center;
        }

        .logo {
            margin-bottom: 40px;
            animation: float 6s ease-in-out infinite;
        }

        .logo i {
            font-size: 4rem;
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.5));
        }

        .logo h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-top: 20px;
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.02em;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .form-group {
            margin-bottom: 30px;
            position: relative;
        }

        .input-container {
            position: relative;
        }

        .input-container i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            z-index: 2;
        }

        input {
            width: 100%;
            padding: 18px 20px 18px 55px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 15px;
            color: var(--text-primary);
            font-size: 16px;
            font-weight: 500;
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        input:focus {
            outline: none;
            border-color: rgba(102, 126, 234, 0.6);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.4), inset 0 0 0 1px rgba(102, 126, 234, 0.2);
            transform: translateY(-2px);
        }

        input::placeholder {
            color: var(--text-secondary);
            transition: opacity 0.3s;
        }

        input:focus::placeholder {
            opacity: 0.5;
        }

        .btn {
            width: 100%;
            padding: 18px;
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--glow), 0 10px 40px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn-success {
            background: var(--success);
        }

        .btn-danger {
            background: var(--danger);
        }

        .switch-auth {
            margin-top: 30px;
            color: var(--text-secondary);
        }

        .switch-auth a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
            position: relative;
        }

        .switch-auth a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }

        .switch-auth a:hover::after {
            width: 100%;
        }

        /* Dashboard */
        .dashboard {
            display: none;
            padding: 40px 0;
        }

        .navbar {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            box-shadow: var(--shadow);
        }

        .nav-brand {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 12px;
            transition: all 0.3s;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary);
            transition: left 0.4s;
            z-index: -1;
            border-radius: 12px;
        }

        .nav-link:hover::before,
        .nav-link.active::before {
            left: 0;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--white);
            transform: translateY(-2px);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 18px;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .dashboard-header h2 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .dashboard-header p {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .stat-card {
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .stat-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary);
        }

        .stat-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 1.1rem;
            font-weight: 500;
        }

        /* Sensor Status */
        .sensor-status {
            padding: 30px;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .status-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            position: relative;
        }

        .status-connected {
            background: #10b981;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }

        .status-connected::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border: 2px solid #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-disconnected {
            background: #ef4444;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        /* Fingerprint Scanner */
        .fingerprint-scanner {
            text-align: center;
            padding: 60px 40px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
            border: 2px dashed rgba(102, 126, 234, 0.5);
            transition: all 0.4s;
        }

        .fingerprint-scanner:hover {
            border-color: rgba(102, 126, 234, 0.8);
            transform: translateY(-5px);
        }

        .fingerprint-icon {
            font-size: 5rem;
            margin-bottom: 30px;
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: float 4s ease-in-out infinite;
        }

        .scan-progress {
            width: 200px;
            height: 200px;
            margin: 0 auto 30px;
            position: relative;
            display: none;
        }

        .scan-progress.active {
            display: block;
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .progress-ring__circle {
            fill: none;
            stroke: rgba(102, 126, 234, 0.2);
            stroke-width: 8;
        }

        .progress-ring__progress {
            fill: none;
            stroke: url(#gradient);
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 628;
            stroke-dashoffset: 628;
            transition: stroke-dashoffset 0.3s;
        }

        .scanning .progress-ring__progress {
            animation: scanProgress 3s linear infinite;
        }

        @keyframes scanProgress {
            0% { stroke-dashoffset: 628; }
            100% { stroke-dashoffset: 0; }
        }

        /* Tables */
        .data-table {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th,
        .table td {
            padding: 20px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table th {
            background: rgba(255, 255, 255, 0.05);
            font-weight: 600;
            color: var(--text-primary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
        }

        .table tbody tr {
            transition: all 0.3s;
        }

        .table tbody tr:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: scale(1.01);
        }

        /* Alerts */
        .alert {
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

        .alert::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .alert-success::before {
            background: #10b981;
        }

        .alert-danger {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .alert-danger::before {
            background: #ef4444;
        }

        .alert-info {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            color: #667eea;
        }

        .alert-info::before {
            background: #667eea;
        }

        /* Log Entries */
        .logs-container {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .logs-container::-webkit-scrollbar {
            width: 8px;
        }

        .logs-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .logs-container::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .log-entry {
            padding: 20px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            margin-bottom: 15px;
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .log-entry:hover {
            transform: translateX(10px);
            box-shadow: var(--glow);
        }

        .log-info strong {
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .log-time {
            color: var(--text-secondary);
            font-weight: 600;
        }

        /* Loading */
        .loader {
            width: 60px;
            height: 60px;
            margin: 40px auto;
            position: relative;
        }

        .loader::before {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            border: 4px solid transparent;
            border-top: 4px solid;
            border-image: var(--primary) 1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .auth-container {
                padding: 30px;
            }

            .navbar {
                flex-direction: column;
                gap: 20px;
                padding: 20px;
            }

            .nav-links {
                width: 100%;
                justify-content: center;
            }

            .cards-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .dashboard-header h2 {
                font-size: 2rem;
            }

            .table th,
            .table td {
                padding: 15px 10px;
                font-size: 0.9rem;
            }
        }

        /* Micro-animations */
        .animate-in {
            animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bounce-in {
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3) translateY(50px);
            }
            50% {
                opacity: 1;
                transform: scale(1.05) translateY(-10px);
            }
            70% {
                transform: scale(0.9) translateY(0);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Premium Effects */
        .glow-effect {
            box-shadow: 0 0 50px rgba(102, 126, 234, 0.3);
        }

        .text-gradient {
            background: var(--primary);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Authentication Section -->
        <div id="authSection" class="auth-section">
            <!-- Registration Form -->
            <div id="registerForm" class="glass-card auth-container animate-in">
                <div class="logo">
                    <i class="fas fa-fingerprint"></i>
                    <h1>IdentifyPro</h1>
                    <p style="color: var(--text-secondary); margin-top: 10px;">Premium Biometric Access</p>
                </div>
                
                <h2 style="margin-bottom: 40px; color: var(--text-primary);">Create Account</h2>
                <div id="registerAlert"></div>
                
                <form id="registerFormEl">
                    <div class="form-group">
                        <div class="input-container">
                            <i class="fas fa-user"></i>
                            <input type="text" id="regName" placeholder="Full Name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-container">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="regEmail" placeholder="Email Address" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-container">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="regPassword" placeholder="Password (6+ characters)" required minlength="6">
                        </div>
                    </div>
                    <button type="submit" class="btn" id="registerBtn">
                        <span>Create Account</span>
                    </button>
                </form>
                
                <div class="switch-auth">
                    Already have an account? <a href="#" onclick="showLogin()">Sign In</a>
                </div>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="glass-card auth-container hidden">
                <div class="logo">
                    <i class="fas fa-fingerprint"></i>
                    <h1>IdentifyPro</h1>
                    <p style="color: var(--text-secondary); margin-top: 10px;">Premium Biometric Access</p>
                </div>
                
                <h2 style="margin-bottom: 40px; color: var(--text-primary);">Welcome Back</h2>
                <div id="loginAlert"></div>
                
                <form id="loginFormEl">
                    <div class="form-group">
                        <div class="input-container">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="loginEmail" placeholder="Email Address" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-container">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="loginPassword" placeholder="Password" required>
                        </div>
                    </div>
                    <button type="submit" class="btn" id="loginBtn">
                        <span>Sign In</span>
                    </button>
                </form>
                
                <div class="switch-auth">
                    Don't have an account? <a href="#" onclick="showRegister()">Create Account</a>
                </div>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="dashboard">
            <div class="navbar glass-card">
                <div class="nav-brand">
                    <i class="fas fa-fingerprint"></i> IdentifyPro
                </div>
                <div class="nav-links">
                    <a href="#" class="nav-link active" onclick="showTab('home')">
                        <i class="fas fa-home"></i> Dashboard
                    </a>
                    <a href="#" class="nav-link" onclick="showTab('addEmployee')">
                        <i class="fas fa-user-plus"></i> Add Employee
                    </a>
                    <a href="#" class="nav-link" onclick="showTab('viewEmployees')">
                        <i class="fas fa-users"></i> All Employees
                    </a>
                </div>
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <span id="currentUser">Admin</span>
                    <button class="btn btn-danger" style="width: auto; padding: 10px 20px; font-size: 14px;" onclick="handleLogout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>

            <!-- Home Tab -->
            <div id="homeTab" class="tab-content active">
                <div class="dashboard-header">
                    <h2>Activity Dashboard</h2>
                    <p>Real-time monitoring of your biometric access system</p>
                </div>

                <div class="cards-grid">
                    <div class="glass-card stat-card bounce-in">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-number" id="totalEmployees">0</div>
                        <div class="stat-label">Total Employees</div>
                    </div>
                    
                    <div class="glass-card stat-card bounce-in" style="animation-delay: 0.1s;">
                        <div class="stat-icon">
                            <i class="fas fa-sign-in-alt"></i>
                        </div>
                        <div class="stat-number" id="todayLogins">0</div>
                        <div class="stat-label">Today's Logins</div>
                    </div>
                    
                    <div class="glass-card stat-card bounce-in" style="animation-delay: 0.2s;">
                        <div class="stat-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="stat-number">99.9%</div>
                        <div class="stat-label">Security Level</div>
                    </div>
                </div>

                <div class="glass-card" style="padding: 40px;">
                    <h3 style="margin-bottom: 30px; color: var(--text-primary); font-size: 1.5rem;">
                        <i class="fas fa-clock"></i> Recent Activity
                    </h3>
                    <div id="alertContainer"></div>
                    <div class="logs-container" id="loginLogs">
                        <div class="loader"></div>
                    </div>
                </div>
            </div>

            <!-- Add Employee Tab -->
            <div id="addEmployeeTab" class="tab-content">
                <div class="dashboard-header">
                    <h2>Enroll New Employee</h2>
                    <p>Secure biometric registration system</p>
                </div>

                <div class="glass-card sensor-status">
                    <div class="status-indicator">
                        <div class="status-dot status-disconnected" id="sensorIndicator"></div>
                        <span id="sensorStatus">Checking sensor connection...</span>
                    </div>
                    <button class="btn" style="width: auto; padding: 12px 24px;" onclick="checkSensorConnection()">
                        <i class="fas fa-sync-alt"></i> Refresh Status
                    </button>
                </div>
                
                <div class="glass-card" style="padding: 50px;">
                    <form onsubmit="handleAddEmployee(event)">
                        <div class="form-group">
                            <div class="input-container">
                                <i class="fas fa-user"></i>
                                <input type="text" id="empName" placeholder="Employee Full Name" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-container">
                                <i class="fas fa-briefcase"></i>
                                <input type="text" id="empRole" placeholder="Job Title / Role" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-container">
                                <i class="fas fa-id-badge"></i>
                                <input type="text" id="empId" placeholder="Employee ID" required>
                            </div>
                        </div>
                        
                        <div class="glass-card fingerprint-scanner" id="fingerprintScanner">
                            <div class="scan-progress" id="scanProgress">
                                <svg class="progress-ring" width="200" height="200">
                                    <defs>
                                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                                        </linearGradient>
                                    </defs>
                                    <circle class="progress-ring__circle" cx="100" cy="100" r="90"></circle>
                                    <circle class="progress-ring__progress" cx="100" cy="100" r="90"></circle>
                                </svg>
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                    <i class="fas fa-fingerprint" style="font-size: 3rem; color: #667eea;"></i>
                                </div>
                            </div>
                            
                            <div id="scannerDefault">
                                <div class="fingerprint-icon">
                                    <i class="fas fa-fingerprint"></i>
                                </div>
                                <h3 style="margin-bottom: 15px; color: var(--text-primary);">Biometric Scanner</h3>
                                <p id="scanStatus" style="color: var(--text-secondary); margin-bottom: 30px;">Click below to start fingerprint enrollment</p>
                                <button type="button" class="btn btn-success" style="margin-top: 20px;" onclick="startFingerprintScan()">
                                    <i class="fas fa-play"></i> Start Fingerprint Scan
                                </button>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn glow-effect" id="enrollBtn" disabled>
                            <i class="fas fa-user-check"></i> Enroll Employee
                        </button>
                    </form>
                </div>
            </div>

            <!-- View Employees Tab -->
            <div id="viewEmployeesTab" class="tab-content">
                <div class="dashboard-header">
                    <h2>Employee Directory</h2>
                    <p>Manage enrolled personnel and access records</p>
                </div>

                <div class="data-table">
                    <table class="table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-id-badge"></i> Employee ID</th>
                                <th><i class="fas fa-user"></i> Name</th>
                                <th><i class="fas fa-briefcase"></i> Role</th>
                                <th><i class="fas fa-fingerprint"></i> Biometric ID</th>
                                <th><i class="fas fa-calendar-alt"></i> Enrolled Date</th>
                                <th><i class="fas fa-cogs"></i> Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 60px;">
                                    <div class="loader"></div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <script>
        // Firebase Configuration
       const firebaseConfig = {
                apiKey: "AIzaSyAeJTSidwzwmZ9t6I3b9Zhzgb6g80ZpSCo",
                authDomain: "identify-53b1f.firebaseapp.com",
                databaseURL: "https://identify-53b1f-default-rtdb.asia-southeast1.firebasedatabase.app",
                projectId: "identify-53b1f",
                storageBucket: "identify-53b1f.firebasestorage.app",
                messagingSenderId: "636421880671",
                appId: "1:636421880671:web:3bca2977ee08f207e994ea",
                measurementId: "G-JZDR1MPJET"
};

        let app, auth, database;
        let currentAdmin = null;
        let fingerprintData = null;
        let sensorConnected = false;
        let firebaseInitialized = false;

        // Initialize Firebase with error handling
        async function initializeFirebase() {
            try {
                console.log('Initializing Firebase...');
                app = firebase.initializeApp(firebaseConfig);
                auth = firebase.auth();
                database = firebase.database();
                
                // Test database connection
                await database.ref('.info/connected').once('value');
                
                firebaseInitialized = true;
                console.log('✅ Firebase initialized successfully');
                
                // Set up auth state listener
                auth.onAuthStateChanged((user) => {
                    console.log('Auth state changed:', user ? user.email : 'No user');
                    if (user) {
                        currentAdmin = user;
                        showDashboard();
                    } else {
                        showAuth();
                    }
                });
                
            } catch (error) {
                console.error('❌ Firebase initialization error:', error);
                firebaseInitialized = false;
                showAlert('Firebase connection failed: ' + error.message, 'danger');
            }
        }

        // Initialize when page loads
        window.addEventListener('load', initializeFirebase);

        // Show/Hide Functions
        function showRegister() {
            console.log('Showing register form');
            document.getElementById('registerForm').classList.remove('hidden');
            document.getElementById('loginForm').classList.add('hidden');
            clearAlerts();
        }

        function showLogin() {
            console.log('Showing login form');
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            clearAlerts();
        }

        function showAuth() {
            console.log('Showing auth section');
            document.getElementById('authSection').style.display = 'flex';
            document.getElementById('dashboardSection').style.display = 'none';
        }

        function showDashboard() {
            console.log('Showing dashboard');
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('dashboardSection').style.display = 'block';
            
            if (currentAdmin) {
                const userName = currentAdmin.displayName || currentAdmin.email || 'Admin';
                document.getElementById('currentUser').textContent = userName;
                document.getElementById('userAvatar').textContent = userName.charAt(0).toUpperCase();
            }
            
            loadLoginLogs();
            loadEmployees();
            checkSensorConnection();
            updateStats();
        }

        function clearAlerts() {
            document.getElementById('registerAlert').innerHTML = '';
            document.getElementById('loginAlert').innerHTML = '';
        }

        // Tab Navigation
        function showTab(tabName) {
            console.log('Switching to tab:', tabName);
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            if (tabName === 'home') {
                document.getElementById('homeTab').classList.add('active');
                document.querySelectorAll('.nav-link')[0].classList.add('active');
                loadLoginLogs();
                updateStats();
            } else if (tabName === 'addEmployee') {
                document.getElementById('addEmployeeTab').classList.add('active');
                document.querySelectorAll('.nav-link')[1].classList.add('active');
                checkSensorConnection();
            } else if (tabName === 'viewEmployees') {
                document.getElementById('viewEmployeesTab').classList.add('active');
                document.querySelectorAll('.nav-link')[2].classList.add('active');
                loadEmployees();
            }
        }

        // Update Dashboard Statistics
        async function updateStats() {
            if (!firebaseInitialized) return;

            try {
                // Count total employees
                const employeesSnapshot = await database.ref('employees').once('value');
                let employeeCount = 0;
                employeesSnapshot.forEach(() => employeeCount++);
                
                // Count today's logins
                const loginSnapshot = await database.ref('loginLogs').once('value');
                let todayLogins = 0;
                const today = new Date().toDateString();
                
                loginSnapshot.forEach((child) => {
                    const log = child.val();
                    if (log.timestamp) {
                        const logDate = new Date(log.timestamp).toDateString();
                        if (logDate === today) todayLogins++;
                    }
                });

                // Update UI with animation
                animateNumber('totalEmployees', employeeCount);
                animateNumber('todayLogins', todayLogins);

            } catch (error) {
                console.error('Error updating stats:', error);
            }
        }

        // Animate number counting
        function animateNumber(elementId, targetNumber) {
            const element = document.getElementById(elementId);
            const startNumber = 0;
            const duration = 1000;
            const increment = targetNumber / (duration / 16);
            let currentNumber = startNumber;

            const timer = setInterval(() => {
                currentNumber += increment;
                if (currentNumber >= targetNumber) {
                    element.textContent = targetNumber;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(currentNumber);
                }
            }, 16);
        }

        // Registration Handler
        document.getElementById('registerFormEl').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            if (!firebaseInitialized) {
                showAlertInContainer('Firebase is not initialized. Please refresh the page.', 'danger', 'registerAlert');
                return;
            }

            const registerBtn = document.getElementById('registerBtn');
            const form = event.target;
            
            const name = document.getElementById('regName').value.trim();
            const email = document.getElementById('regEmail').value.trim();
            const password = document.getElementById('regPassword').value;

            console.log('Register form submitted:', { name, email });

            registerBtn.disabled = true;
            registerBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
            form.style.opacity = '0.6';

            try {
                console.log('Creating user with Firebase Auth...');
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                console.log('✅ User created successfully:', userCredential.user.uid);

                await userCredential.user.updateProfile({ displayName: name });
                console.log('✅ Profile updated');

                await database.ref('admins/' + userCredential.user.uid).set({
                    name: name,
                    email: email,
                    createdAt: firebase.database.ServerValue.TIMESTAMP
                });
                console.log('✅ Admin data saved to database');

                showAlertInContainer('Account created successfully! Welcome, ' + name, 'success', 'registerAlert');
                form.reset();
                
            } catch (error) {
                console.error('❌ Registration error:', error);
                let errorMessage = 'Registration failed: ';
                
                switch (error.code) {
                    case 'auth/email-already-in-use':
                        errorMessage += 'This email is already registered.';
                        break;
                    case 'auth/weak-password':
                        errorMessage += 'Password should be at least 6 characters.';
                        break;
                    case 'auth/invalid-email':
                        errorMessage += 'Invalid email address.';
                        break;
                    default:
                        errorMessage += error.message;
                }
                
                showAlertInContainer(errorMessage, 'danger', 'registerAlert');
            } finally {
                registerBtn.disabled = false;
                registerBtn.innerHTML = '<span>Create Account</span>';
                form.style.opacity = '1';
            }
        });

        // Login Handler
        document.getElementById('loginFormEl').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            if (!firebaseInitialized) {
                showAlertInContainer('Firebase is not initialized. Please refresh the page.', 'danger', 'loginAlert');
                return;
            }

            const loginBtn = document.getElementById('loginBtn');
            const form = event.target;
            
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;

            console.log('Login form submitted:', { email });

            loginBtn.disabled = true;
            loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing In...';
            form.style.opacity = '0.6';

            try {
                console.log('Signing in with Firebase Auth...');
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                console.log('✅ User signed in successfully:', userCredential.user.uid);

                await database.ref('loginLogs').push({
                    adminId: userCredential.user.uid,
                    adminEmail: email,
                    timestamp: firebase.database.ServerValue.TIMESTAMP,
                    date: new Date().toISOString()
                });
                console.log('✅ Login logged to database');

                showAlertInContainer('Login successful! Welcome back.', 'success', 'loginAlert');
                form.reset();
                
            } catch (error) {
                console.error('❌ Login error:', error);
                let errorMessage = 'Login failed: ';
                
                switch (error.code) {
                    case 'auth/user-not-found':
                        errorMessage += 'No account found with this email.';
                        break;
                    case 'auth/wrong-password':
                        errorMessage += 'Incorrect password.';
                        break;
                    case 'auth/invalid-email':
                        errorMessage += 'Invalid email address.';
                        break;
                    default:
                        errorMessage += error.message;
                }
                
                showAlertInContainer(errorMessage, 'danger', 'loginAlert');
            } finally {
                loginBtn.disabled = false;
                loginBtn.innerHTML = '<span>Sign In</span>';
                form.style.opacity = '1';
            }
        });

        // Logout Handler
        async function handleLogout() {
            if (!firebaseInitialized || !auth) {
                showAlert('Cannot logout - Firebase not initialized', 'danger');
                return;
            }

            try {
                console.log('Logging out...');
                await auth.signOut();
                currentAdmin = null;
                showAlert('Logged out successfully', 'info');
            } catch (error) {
                console.error('❌ Logout error:', error);
                showAlert('Error logging out: ' + error.message, 'danger');
            }
        }

        // Check Sensor Connection
        const ESP_IP = "http://10.3.10.10";

        async function checkSensorConnection() {
            const indicator = document.getElementById('sensorIndicator');
            const status = document.getElementById('sensorStatus');

            status.textContent = 'Checking sensor connection...';
            console.log('Checking ESP8266 connection');

            try {
                const res = await fetch(`${ESP_IP}/status`);
                if (!res.ok) throw new Error(`HTTP error: ${res.status}`);
                const data = await res.json();

                if (data.sensorConnected) {
                    sensorConnected = true;
                    indicator.className = 'status-dot status-connected';
                    status.textContent = '✅ Biometric sensor connected and ready';
                } else {
                    sensorConnected = false;
                    indicator.className = 'status-dot status-disconnected';
                    status.textContent = '❌ Biometric sensor not detected';
                }
            } catch (err) {
                sensorConnected = false;
                indicator.className = 'status-dot status-disconnected';
                status.textContent = '⚠️ Cannot reach biometric module';
                console.error('Sensor check error:', err.message);
            }
        }

        // Start Fingerprint Enrollment
        async function startFingerprintScan() {
            if (!sensorConnected) {
                showAlert('Please connect the biometric sensor first!', 'danger');
                return;
            }

            const empId = document.getElementById('empId').value.trim();
            if (!empId) {
                showAlert('Enter Employee ID first before scanning!', 'danger');
                return;
            }

            const scanner = document.getElementById('fingerprintScanner');
            const scanStatus = document.getElementById('scanStatus');
            const enrollBtn = document.getElementById('enrollBtn');
            const scanProgress = document.getElementById('scanProgress');
            const scannerDefault = document.getElementById('scannerDefault');

            // Show progress animation
            scannerDefault.style.display = 'none';
            scanProgress.classList.add('active');
            scanner.classList.add('scanning');
            scanStatus.textContent = 'Starting biometric enrollment...';
            
            console.log('Starting enrollment for ID:', empId);

            try {
                // Step 1: Start enrollment
                let res = await fetch(`${ESP_IP}/enroll/start`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ fingerprintId: `FP_${empId}` })
                });
                if (!res.ok) throw new Error(`HTTP error: ${res.status}`);
                let data = await res.json();

                if (!data.success) {
                    resetScanner();
                    showAlert('Failed to start enrollment: ' + (data.error || 'Unknown error'), 'danger');
                    console.error('Enrollment start error:', data.error);
                    return;
                }

                console.log('Enrollment started:', data);

                // Step 2: Poll enrollment status
                let finished = false;
                while (!finished) {
                    await new Promise(r => setTimeout(r, 2000));
                    res = await fetch(`${ESP_IP}/enroll/status`);
                    if (!res.ok) throw new Error(`HTTP error: ${res.status}`);
                    data = await res.json();

                    scanStatus.textContent = `👉 ${data.status}`;
                    console.log('Enrollment status:', data.status);

                    if (data.status === 'success') {
                        resetScanner();
                        scanStatus.textContent = '✅ Biometric data captured successfully!';
                        fingerprintData = empId;
                        enrollBtn.disabled = false;
                        enrollBtn.classList.add('glow-effect');
                        showAlert('Biometric data captured successfully!', 'success');
                        finished = true;
                    } else if (data.status === 'error_converting' || 
                              data.status === 'error_storing' || 
                              data.status === 'mismatch' || 
                              data.status === 'error_creating_model' ||
                              data.status === 'error_converting_2') {
                        resetScanner();
                        scanStatus.textContent = `❌ ${data.status}`;
                        showAlert(`Enrollment failed: ${data.status}`, 'danger');
                        finished = true;
                    } else if (data.error === 'Fingerprint ID already exists') {
                        resetScanner();
                        scanStatus.textContent = '❌ Biometric data already registered!';
                        showAlert('This biometric signature is already registered!', 'danger');
                        finished = true;
                    }
                }
            } catch (err) {
                resetScanner();
                scanStatus.textContent = '⚠️ Error communicating with biometric module';
                showAlert('Error communicating with biometric module: ' + err.message, 'danger');
                console.error('Enrollment error:', err.message);
            }
        }

        function resetScanner() {
            const scanner = document.getElementById('fingerprintScanner');
            const scanProgress = document.getElementById('scanProgress');
            const scannerDefault = document.getElementById('scannerDefault');
            
            scanner.classList.remove('scanning');
            scanProgress.classList.remove('active');
            scannerDefault.style.display = 'block';
        }

        // Add Employee Handler
        async function handleAddEmployee(event) {
            event.preventDefault();
            console.log('Add employee form submitted');
            
            if (!fingerprintData) {
                showAlert('Please scan biometric data first!', 'danger');
                return;
            }

            if (!firebaseInitialized) {
                showAlert('Firebase is not initialized. Please refresh the page.', 'danger');
                return;
            }

            const name = document.getElementById('empName').value;
            const role = document.getElementById('empRole').value;
            const empId = document.getElementById('empId').value;
            const enrollBtn = document.getElementById('enrollBtn');

            enrollBtn.disabled = true;
            enrollBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enrolling Employee...';

            try {
                console.log('Saving employee to Firebase:', { name, role, empId });
                await database.ref('employees').push({
                    name: name,
                    role: role,
                    employeeId: empId,
                    fingerprintId: fingerprintData,
                    enrolledBy: currentAdmin.email,
                    enrolledAt: firebase.database.ServerValue.TIMESTAMP
                });

                showAlert('Employee enrolled successfully!', 'success');
                
                // Reset form
                document.getElementById('empName').value = '';
                document.getElementById('empRole').value = '';
                document.getElementById('empId').value = '';
                document.getElementById('scanStatus').textContent = 'Click below to start fingerprint enrollment';
                enrollBtn.disabled = true;
                enrollBtn.classList.remove('glow-effect');
                enrollBtn.innerHTML = '<i class="fas fa-user-check"></i> Enroll Employee';
                fingerprintData = null;
                
                loadEmployees();
                updateStats();
            } catch (error) {
                console.error('Employee enrollment error:', error.message);
                showAlert('Error enrolling employee: ' + error.message, 'danger');
                enrollBtn.disabled = false;
                enrollBtn.innerHTML = '<i class="fas fa-user-check"></i> Enroll Employee';
            }
        }

        // Load Login Logs
        async function loadLoginLogs() {
            if (!firebaseInitialized) return;

            const logsContainer = document.getElementById('loginLogs');
            logsContainer.innerHTML = '<div class="loader"></div>';
            console.log('Loading login logs');

            try {
                const snapshot = await database.ref('loginLogs')
                    .orderByChild('timestamp')
                    .limitToLast(20)
                    .once('value');

                const logs = [];
                snapshot.forEach((child) => {
                    logs.push(child.val());
                });

                if (logs.length === 0) {
                    logsContainer.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No login activity today</p>';
                } else {
                    logsContainer.innerHTML = '';
                    logs.reverse().forEach((log, index) => {
                        const date = new Date(log.timestamp);
                        const today = new Date();
                        
                        if (date.toDateString() === today.toDateString()) {
                            const logEntry = document.createElement('div');
                            logEntry.className = 'log-entry animate-in';
                            logEntry.style.animationDelay = `${index * 0.1}s`;
                            logEntry.innerHTML = `
                                <div class="log-info">
                                    <strong>${log.adminEmail}</strong>
                                    <br>
                                    <small style="color: var(--text-secondary);">Administrator Login</small>
                                </div>
                                <div class="log-time">
                                    <i class="fas fa-clock"></i>
                                    ${date.toLocaleTimeString()}
                                </div>
                            `;
                            logsContainer.appendChild(logEntry);
                        }
                    });

                    if (logsContainer.children.length === 0) {
                        logsContainer.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No login activity today</p>';
                    }
                }
            } catch (error) {
                console.error('Error loading login logs:', error.message);
                logsContainer.innerHTML = '<p style="text-align: center; color: #ef4444;">Error loading activity logs</p>';
            }
        }

        // Load Employees
        async function loadEmployees() {
            if (!firebaseInitialized) return;

            const tableBody = document.getElementById('employeeTableBody');
            tableBody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 60px;"><div class="loader"></div></td></tr>';
            console.log('Loading employees');

            try {
                const snapshot = await database.ref('employees').once('value');
                const employees = [];
                
                snapshot.forEach((child) => {
                    employees.push({
                        id: child.key,
                        ...child.val()
                    });
                });

                if (employees.length === 0) {
                    tableBody.innerHTML = '<tr><td colspan="6" style="text-align: center; color: var(--text-secondary); padding: 60px;">No employees enrolled yet</td></tr>';
                } else {
                    tableBody.innerHTML = '';
                    employees.forEach((emp, index) => {
                        const row = document.createElement('tr');
                        row.className = 'animate-in';
                        row.style.animationDelay = `${index * 0.1}s`;
                        const enrolledDate = new Date(emp.enrolledAt).toLocaleDateString();
                        row.innerHTML = `
                            <td><strong>${emp.employeeId}</strong></td>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="width: 35px; height: 35px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                        ${emp.name.charAt(0).toUpperCase()}
                                    </div>
                                    ${emp.name}
                                </div>
                            </td>
                            <td>${emp.role}</td>
                            <td><code style="background: rgba(102, 126, 234, 0.1); padding: 4px 8px; border-radius: 4px; color: #667eea;">${emp.fingerprintId}</code></td>
                            <td>${enrolledDate}</td>
                            <td>
                                <button class="btn btn-danger" style="width: auto; padding: 8px 16px; font-size: 14px;" onclick="deleteEmployee('${emp.id}')">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </td>
                        `;
                        tableBody.appendChild(row);
                    });
                }
            } catch (error) {
                console.error('Error loading employees:', error.message);
                tableBody.innerHTML = '<tr><td colspan="6" style="text-align: center; color: #ef4444; padding: 60px;">Error loading employee data</td></tr>';
            }
        }

        // Delete Employee
        async function deleteEmployee(employeeId) {
            console.log('Deleting employee:', employeeId);
            if (confirm('Are you sure you want to delete this employee? This action cannot be undone.')) {
                try {
                    await database.ref('employees/' + employeeId).remove();
                    showAlert('Employee deleted successfully', 'success');
                    loadEmployees();
                    updateStats();
                } catch (error) {
                    console.error('Error deleting employee:', error.message);
                    showAlert('Error deleting employee: ' + error.message, 'danger');
                }
            }
        }

        // Show Alert in specific container
        function showAlertInContainer(message, type, containerId) {
            console.log('Showing alert in container:', containerId, message, type);
            const container = document.getElementById(containerId);
            if (container) {
                const alert = document.createElement('div');
                alert.className = `alert alert-${type} animate-in`;
                alert.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'danger' ? 'exclamation-triangle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                container.innerHTML = '';
                container.appendChild(alert);
                
                setTimeout(() => {
                    if (alert.parentNode) {
                        alert.style.opacity = '0';
                        alert.style.transform = 'translateY(-20px)';
                        setTimeout(() => alert.remove(), 300);
                    }
                }, 5000);
            }
        }

        // Show Alert (general)
        function showAlert(message, type) {
            console.log('Showing alert:', message, type);
            const alertContainer = document.getElementById('alertContainer') || document.querySelector('.container');
            const alert = document.createElement('div');
            alert.className = `alert alert-${type} animate-in`;
            alert.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'danger' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            if (alertContainer.id === 'alertContainer') {
                alertContainer.innerHTML = '';
                alertContainer.appendChild(alert);
            } else {
                alertContainer.insertBefore(alert, alertContainer.firstChild);
            }
            
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.style.opacity = '0';
                    alert.style.transform = 'translateY(-20px)';
                    setTimeout(() => alert.remove(), 300);
                }
            }, 5000);
        }

        // Advanced UI Effects
        function addParallaxEffect() {
            window.addEventListener('mousemove', (e) => {
                const cards = document.querySelectorAll('.glass-card');
                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;
                
                cards.forEach((card, index) => {
                    const offsetX = (mouseX - 0.5) * 20;
                    const offsetY = (mouseY - 0.5) * 20;
                    const delay = index * 0.1;
                    
                    setTimeout(() => {
                        card.style.transform = `translate(${offsetX}px, ${offsetY}px) rotateX(${offsetY * 0.1}deg) rotateY(${offsetX * 0.1}deg)`;
                    }, delay * 1000);
                });
            });
        }

        // Initialize advanced effects after dashboard loads
        function initializeAdvancedEffects() {
            // Add floating particles effect
            createFloatingParticles();
            
            // Add parallax mouse tracking
            addParallaxEffect();
            
            // Add typing effect to headings
            addTypingEffect();
        }

        function createFloatingParticles() {
            const container = document.body;
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = 'rgba(102, 126, 234, 0.3)';
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '-1';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.animation = `float ${5 + Math.random() * 10}s linear infinite`;
                container.appendChild(particle);
                
                setTimeout(() => particle.remove(), 15000);
            }
        }

        function addTypingEffect() {
            const headings = document.querySelectorAll('.dashboard-header h2');
            headings.forEach(heading => {
                const text = heading.textContent;
                heading.textContent = '';
                let i = 0;
                
                const typeWriter = () => {
                    if (i < text.length) {
                        heading.textContent += text.charAt(i);
                        i++;
                        setTimeout(typeWriter, 100);
                    }
                };
                
                // Start typing effect when element comes into view
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            typeWriter();
                            observer.unobserve(entry.target);
                        }
                    });
                });
                
                observer.observe(heading);
            });
        }

        // Enhanced form validation with premium effects
        function addPremiumFormValidation() {
            const inputs = document.querySelectorAll('input');
            
            inputs.forEach(input => {
                input.addEventListener('blur', function() {
                    const container = this.closest('.input-container');
                    const isValid = this.validity.valid && this.value.trim() !== '';
                    
                    if (isValid) {
                        container.style.borderColor = '#10b981';
                        container.style.boxShadow = '0 0 20px rgba(16, 185, 129, 0.3)';
                    } else if (this.value.trim() !== '') {
                        container.style.borderColor = '#ef4444';
                        container.style.boxShadow = '0 0 20px rgba(239, 68, 68, 0.3)';
                    }
                });
            });
        }

        // Sound effects for premium feel (optional)
        function playSound(type) {
            // Create audio context for UI sounds
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            let frequency;
            switch(type) {
                case 'success': frequency = 800; break;
                case 'error': frequency = 300; break;
                case 'click': frequency = 600; break;
                default: frequency = 500;
            }
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }

        // Add click sound to buttons
        document.addEventListener('click', function(e) {
            if (e.target.matches('.btn, .nav-link')) {
                playSound('click');
            }
        });

        // Enhanced loading states
        function showLoadingState(element, loadingText = 'Loading...') {
            const originalHTML = element.innerHTML;
            element.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${loadingText}`;
            element.disabled = true;
            
            return () => {
                element.innerHTML = originalHTML;
                element.disabled = false;
            };
        }

        // Initialize all premium effects when page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                initializeAdvancedEffects();
                addPremiumFormValidation();
            }, 1000);
        });

        // Add keyboard shortcuts for power users
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showTab('home');
                        break;
                    case '2':
                        e.preventDefault();
                        showTab('addEmployee');
                        break;
                    case '3':
                        e.preventDefault();
                        showTab('viewEmployees');
                        break;
                }
            }
        });

        // Dark mode toggle (already dark, but adds extra premium dark theme)
        function toggleUltraDarkMode() {
            document.documentElement.style.setProperty('--dark', '#000000');
            document.documentElement.style.setProperty('--darker', '#000000');
            document.documentElement.style.setProperty('--light', '#0a0a0a');
            document.documentElement.style.setProperty('--lighter', '#1a1a1a');
        }

        // Performance monitoring for premium experience
        function monitorPerformance() {
            const observer = new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    if (entry.entryType === 'measure') {
                        console.log(`Performance: ${entry.name} took ${entry.duration}ms`);
                    }
                }
            });
            
            observer.observe({ entryTypes: ['measure'] });
        }

        // Initialize performance monitoring
        monitorPerformance();

        console.log('🚀 IdentifyPro Premium Attendance System Loaded');
        console.log('💎 Premium UI/UX Features Activated');
        console.log('🔐 Biometric Security System Ready');
        console.log('⚡ Performance Monitoring Active');
    </script>
</body>
</html>